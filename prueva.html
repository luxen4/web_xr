
<html>
<head>
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.3.3/dist/aframe-environment-component.min.js"></script>
</head>
<body>
<a-scene>
    <a-box 
        id="caja1" 
        position="-1.2 1.5 -20" 
        color="yellow" 
        obb-collider>
    </a-box>
    <a-entity camera look-controls position="0 1.6 0"></a-entity>
</a-scene>

<script>
    const caja1 = document.getElementById("caja1");
    let positionIncrement = 0; // Controla el desplazamiento en el eje Z
    const targetZ = 0; // Posición objetivo en Z
    const duration = 10000; // Duración de la animación en milisegundos

    // Función para animar la posición y el color
    function animate() {
        // Cambiar la posición
        positionIncrement += 0.1; // Incremento en el eje Z
        if (positionIncrement <= targetZ) {
            caja1.setAttribute("position", `-1.2 1.5 ${-20 + positionIncrement}`);
        } else {
            positionIncrement = 0; // Reiniciar el incremento para volver a empezar
        }

        // Cambiar el color cada vez que se mueve
        const newColor = positionIncrement <= targetZ / 2 ? '#0000FF' : 'yellow'; // Azul en la primera mitad, amarillo en la segunda
        caja1.setAttribute("material", "color", newColor);
    }

    // Llama a la función animate cada 100 ms
    setInterval(animate, 100);
</script>
</body>
</html>